(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(57),c=a.n(s),o=(a(65),a(1)),i=a.n(o),u=a(2),l=a(3),m=a(4),p=a(6),h=a(5),d=a(7),g=(a(67),{storeToken:function(e){localStorage.setItem("token",e)},fetchToken:function(){return localStorage.getItem("token")},clearToken:function(){localStorage.clear()}}),v={isAuthenticated:function(){return!!g.fetchToken("token")},signOut:function(){g.clearToken()}},f=a(17),b=a.n(f),y=g.fetchToken()||"",E=b.a.create({baseURL:"https://haggle-app.herokuapp.com/",headers:{Authorization:"Bearer ".concat(y)}}),k=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n,r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post("/auth/login",t);case 3:return a=e.sent,n=a.data,r=n.token,s=n.user,g.storeToken(r),e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n,r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post("/auth/signup",t);case 3:return a=e.sent,n=a.data,r=n.user,s=n.token,g.storeToken(s),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/app/profile");case 3:return t=e.sent,a=t.data.user,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),w=a(8),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={category:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category-container"},r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Auto",onClick:this.props.setCategory},"Auto"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Utensils",onClick:this.props.setCategory},"Utensils"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Electronics",onClick:this.props.setCategory},"Electronics"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Apparel",onClick:this.props.setCategory},"Apparel"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Jewelry",onClick:this.props.setCategory},"Jewelry"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Housing",onClick:this.props.setCategory},"Housing"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Gaming",onClick:this.props.setCategory},"Gaming"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Services",onClick:this.props.setCategory},"Services"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Tools",onClick:this.props.setCategory},"Tools"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Furniture",onClick:this.props.setCategory},"Furniture"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Antiques",onClick:this.props.setCategory},"Antiques"),r.a.createElement(w.b,{to:"/category",className:"category-div",type:"Junk",onClick:this.props.setCategory},"Junk"))}}]),t}(n.Component),S=a(15),N=b.a.create({baseURL:"".concat("https://haggle-app.herokuapp.com/")}),C=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/category/".concat(t.toLowerCase()));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),I=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isSignedIn;return r.a.createElement("div",{key:t.id,className:"item-container"},r.a.createElement("h3",{id:t.id,className:"item-name",name:t.name,category:t.category},t.name),r.a.createElement("h3",{id:t.id,className:"item-category",name:t.name,category:t.category},t.category),r.a.createElement("img",{className:"item-image",src:t.image,alt:"item"}),r.a.createElement("p",{id:t.id,className:"item-desc item-desc-cont",name:t.name,category:t.category},t.description),a?r.a.createElement(w.b,{to:"dashboard"},r.a.createElement("button",{className:"message-button",id:t.userId},"Message")):null)}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(a.props.category);case 2:t=e.sent,a.setState({items:t});case 4:case"end":return e.stop()}},e)})),a.componentDidUpdate=function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.category===a.props.category){e.next=5;break}return e.next=3,C(a.props.category);case 3:r=e.sent,a.setState({items:r});case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={items:[],category:e.category},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.items?this.state.items.map(function(t){return r.a.createElement(I,{item:t,key:t.id,isSignedIn:e.props.isSignedIn})}):null;return r.a.createElement("div",{className:"items-container",id:"items-container-cont"},t)}}]),t}(n.Component),U=a(18),M=b.a.create({baseURL:"".concat("https://haggle-app.herokuapp.com/")}),F=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("/user/".concat(t,"/items"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.get("/user/".concat(t,"/items"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.get("/user/".concat(t,"/items/").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(i.a.mark(function e(t,a,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.put("/user/".concat(t,"/items/").concat(a),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.delete("/user/".concat(t,"/items/").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),J=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.fromMe?"from-me":"";return r.a.createElement("div",{className:"indiv-message message-".concat(e)},r.a.createElement("div",{className:"username"},this.props.username),r.a.createElement("div",{className:"message-body"},this.props.message))}}]),t}(r.a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("message-list");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this.props.messages.map(function(e,t){return r.a.createElement(J,{key:t,username:e.username,message:e.message,fromMe:e.fromMe})});return r.a.createElement("div",{id:"message-list",className:"message-list"},e)}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onSubmitForm=function(e){e.preventDefault(),a.setState({chatSend:""}),a.props.onSend(a.state.chatSend)},a.onTextChangeForm=function(e){var t=e.target.value;a.setState({chatSend:t})},a.state={chatSend:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-send-div"},r.a.createElement("form",{onSubmit:this.onSubmitForm},r.a.createElement("input",{className:"chat-send-input",type:"text",onChange:this.onTextChangeForm,value:this.state.chatSend,placeholder:"Message...",required:!0})))}}]),t}(r.a.Component),G=a(32),R=a.n(G),P="https://haggle-app.herokuapp.com/",z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).sendMessage=function(e){var t={username:a.props.username,message:e};a.socket.emit("client:message",t),t.fromMe=!0,a.addMessage(t)},a.addMessage=function(e){var t=a.state.messages;t.push(e),a.setState({messages:t})},a.state={messages:[]},a.socket=R()(P).connect(),a.socket=R()(P,{query:"username=".concat(e.username)}).connect(),a.socket.on("server:message",function(e){a.addMessage(e)}),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-container"},r.a.createElement(H,{messages:this.state.messages}),r.a.createElement(B,{onSend:this.sendMessage}))}}]),t}(r.a.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={username:a.props.username},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{username:this.state.username})}}]),t}(r.a.Component),Q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).componentDidMount=Object(u.a)(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e.props.userId);case 2:a=t.sent,e.setState({items:a});case 4:case"end":return t.stop()}},t)})),e.handleSubmitForm=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r,s,c,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.name,s=n.category,c={name:r,category:s.toLowerCase(),image:e.state.image,description:e.state.description},t.next=5,F(e.props.userId,c);case 5:return t.next=7,A(e.props.userId);case 7:o=t.sent,e.setState({items:o}),e.eraseInputs();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleTextInput=function(t){var a=t.target.name,n=t.target.value;e.setState(function(e){return Object(U.a)({},a,n)})},e.showModal=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,t.next=3,D(e.props.userId,n);case 3:r=t.sent,e.setState({show:!0,updatedItem:r,name:r.name,category:r.category,description:r.description,image:r.image,id:n});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.hideModal=function(){e.setState({show:!1})},e.onUpdateClick=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state.id,r={name:e.state.name,category:e.state.category.toLowerCase(),image:e.state.image,description:e.state.description},t.next=5,q(e.props.userId,n,r);case 5:return t.next=7,A(e.props.userId);case 7:s=t.sent,e.setState({items:s}),e.hideModal();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onItemFormChange=function(t){var a=t.target,n=a.name,r=a.value,s={};s[n]=r,e.setState(s)},e.onDeleteClick=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.value,t.next=4,L(e.props.userId,n);case 4:return t.next=6,A(e.props.userId);case 6:r=t.sent,e.setState({items:r});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.eraseInputs=function(){e.setState({name:"",category:"",description:"",image:""})},e.state={items:[],name:"",category:"",image:"",description:"",show:!1,updatedItem:{}},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.items?this.state.items.map(function(t){return r.a.createElement("div",{key:t.id,className:"item-container"},r.a.createElement("h3",{id:t.id,className:"item-name",name:t.name,category:t.category},t.name),r.a.createElement("h3",{id:t.id,className:"item-category",name:t.name,category:t.category},t.category),r.a.createElement("img",{className:"item-image",src:t.image,alt:"item"}),r.a.createElement("button",{className:"crud-button",value:t.id,onClick:e.showModal},"Update"),r.a.createElement("button",{className:"crud-button",value:t.id,onClick:e.onDeleteClick},"Delete"),r.a.createElement("p",{id:t.id,className:"item-desc",name:t.name,category:t.category},t.description))}):null,a=this.state.show&&this.state.updatedItem?r.a.createElement("div",{className:"modal"},r.a.createElement("section",{className:"modal-content",id:"modal-content-id"},r.a.createElement("form",{onSubmit:this.onUpdateClick},r.a.createElement("label",{htmlFor:"name"},r.a.createElement("input",{type:"text",className:"create-input",name:"name",value:this.state.name,onChange:this.onItemFormChange,required:!0})),r.a.createElement("label",{htmlFor:"category"},r.a.createElement("select",{className:"create-select",value:this.state.category,onChange:this.handleTextInput,name:"category",required:!0},r.a.createElement("option",{value:""}," select an option "),r.a.createElement("option",{value:"auto"},"Auto"),r.a.createElement("option",{value:"utensils"},"Utensils"),r.a.createElement("option",{value:"electronics"},"Electronics"),r.a.createElement("option",{value:"apparel"},"Apparel"),r.a.createElement("option",{value:"jewelry"},"Jewelry"),r.a.createElement("option",{value:"housing"},"Housing"),r.a.createElement("option",{value:"gaming"},"Gaming"),r.a.createElement("option",{value:"services"},"Services"),r.a.createElement("option",{value:"tools"},"Tools"),r.a.createElement("option",{value:"furniture"},"Furniture"),r.a.createElement("option",{value:"antiques"},"I'm a total square"),r.a.createElement("option",{value:"junk"},"Junk"))),r.a.createElement("div",null,r.a.createElement("textarea",{name:"description",className:"create-textarea",rows:"10",cols:"30",value:this.state.description,onChange:this.handleTextInput})),r.a.createElement("div",null,r.a.createElement("input",{className:"create-input",type:"text",name:"image",onChange:this.handleTextInput,value:this.state.image,required:!0})),r.a.createElement("button",{className:"update-btn create-button",type:"submit"},"Update")),r.a.createElement("button",{className:"cancel-btn create-button",onClick:this.hideModal},"Close"))):null;return r.a.createElement("div",null,r.a.createElement("form",{className:"create-form",onSubmit:this.handleSubmitForm},r.a.createElement("div",null,r.a.createElement("input",{value:this.state.name,className:"create-input",type:"text",name:"name",onChange:this.handleTextInput,placeholder:"Name",required:!0})),r.a.createElement("div",null,r.a.createElement("select",{className:"create-select",value:this.state.category,onChange:this.handleTextInput,name:"category",required:!0},r.a.createElement("option",{value:""}," select an option "),r.a.createElement("option",{value:"auto"},"Auto"),r.a.createElement("option",{value:"utensils"},"Utensils"),r.a.createElement("option",{value:"electronics"},"Electronics"),r.a.createElement("option",{value:"apparel"},"Apparel"),r.a.createElement("option",{value:"jewelry"},"Jewelry"),r.a.createElement("option",{value:"housing"},"Housing"),r.a.createElement("option",{value:"gaming"},"Gaming"),r.a.createElement("option",{value:"services"},"Services"),r.a.createElement("option",{value:"tools"},"Tools"),r.a.createElement("option",{value:"furniture"},"Furniture"),r.a.createElement("option",{value:"antiques"},"Antiques"),r.a.createElement("option",{value:"junk"},"Junk"))),r.a.createElement("div",null,r.a.createElement("textarea",{className:"create-textarea",value:this.state.description,name:"description",rows:"10",cols:"30",onChange:this.handleTextInput,placeholder:"Description..."})),r.a.createElement("div",null,r.a.createElement("input",{value:this.state.image,className:"create-input",type:"text",name:"image",onChange:this.handleTextInput,placeholder:"Image URL",required:!0})),r.a.createElement("button",{className:"create-button"},"Create")),r.a.createElement(K,{username:this.props.username}),r.a.createElement("div",{className:"items-container"},t),a)}}]),t}(n.Component),V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).handleSubmitForm=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r,s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.email,s=n.password,c=e.props.handleLogin,e.setState({showError:!1}),t.prev=4,t.next=7,c({email:r,password:s});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),e.setState({showError:!0});case 12:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e){return t.apply(this,arguments)}}(),e.handleTextInput=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target.name,r=a.target.value,e.setState(function(e){return Object(U.a)({},n,r)});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:"",showError:!1},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;return this.state.showError&&(e=r.a.createElement("div",{className:"error-message"},r.a.createElement("span",null,"Incorrect credentials"))),r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),e,r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmitForm},r.a.createElement("div",null,r.a.createElement("input",{className:"login-input",type:"text",name:"email",onChange:this.handleTextInput,value:this.state.email,placeholder:"Email"})),r.a.createElement("div",null,r.a.createElement("input",{className:"login-input",type:"password",name:"password",onChange:this.handleTextInput,value:this.state.password,placeholder:"Password"})),r.a.createElement("button",{className:"login-btn"},"Login")))}}]),t}(n.Component),W=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).handleSubmitForm=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r,s,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.email,s=n.password,c=e.props.handleSignUp,t.prev=3,t.next=6,c({email:r,password:s});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),e.setState({showError:!0});case 11:case"end":return t.stop()}},t,null,[[3,8]])}));return function(e){return t.apply(this,arguments)}}(),e.handleTextInput=function(t){var a=t.target.name,n=t.target.value;e.setState(function(e){return Object(U.a)({},a,n)})},e.state={email:"",password:"",showError:!1},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;return this.state.showError&&(e=r.a.createElement("div",{className:"error-message"},r.a.createElement("span",null,"An error occured, please try again"))),r.a.createElement("div",null,r.a.createElement("h2",null,"Signup"),e,r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmitForm},r.a.createElement("div",null,r.a.createElement("input",{className:"login-input",type:"text",name:"email",onChange:this.handleTextInput,value:this.state.email,placeholder:"Email"})),r.a.createElement("div",null,r.a.createElement("input",{className:"login-input",type:"password",name:"password",onChange:this.handleTextInput,value:this.state.password,placeholder:"Password"})),r.a.createElement("button",{className:"login-btn"},"Sign Up")))}}]),t}(n.Component),X=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,!this.props.isSignedIn&&r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"homepage"},r.a.createElement(V,{handleLogin:this.props.handleLogin}),r.a.createElement(W,{handleSignUp:this.props.handleSignUp}))),this.props.isSignedIn&&r.a.createElement("div",null,r.a.createElement("button",{className:"signout-button",onClick:this.props.signOut}," Sign out"),r.a.createElement(Q,{userId:this.props.userId,username:this.props.username}))))}}]),t}(n.Component),Y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).signOut=function(){v.signOut(),e.setState({isSignedIn:!1,user:{}})},e.loginUser=function(){var t=Object(u.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(a);case 3:n=t.sent,e.setState({isSignedIn:!0,user:n}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),e.signUpUser=function(){var t=Object(u.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(a);case 3:n=t.sent,e.setState({isSignedIn:!0,user:n}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),e.setCategory=function(t){var a=t.target.type;e.setState({category:a}),localStorage.setItem("category",a)},e.returnNavName=function(e){return e?"DashBoard":"LogIn/SignUp"},e.state={isSignedIn:!1,user:{},category:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:t=e.sent,a=localStorage.getItem("category"),this.setState({category:a,isSignedIn:v.isAuthenticated(),user:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Issue fetching token");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isSignedIn;return r.a.createElement("div",{className:"App"},r.a.createElement(w.b,{className:"nav-bar-link",to:"/marketplace"},r.a.createElement("h1",{className:"title"},"Haggle")),r.a.createElement("h2",null,"Trade ",r.a.createElement("span",{className:"shit"},"Shit")," For Better ",r.a.createElement("span",{className:"shit"},"Shit")),r.a.createElement("nav",{className:"nav-bar"},r.a.createElement(w.b,{className:"nav-bar-link",to:"/marketplace"},r.a.createElement("li",null,"MarketPlace")),r.a.createElement(w.b,{className:"nav-bar-link",to:"dashboard"},r.a.createElement("li",null,this.returnNavName(t)))),r.a.createElement("main",null,r.a.createElement(S.b,{exact:!0,path:"/",render:function(){return r.a.createElement(S.a,{to:"/marketplace"})}}),r.a.createElement(S.b,{exact:!0,path:"/marketplace",render:function(t){return r.a.createElement(x,Object.assign({},t,{setCategory:e.setCategory,category:e.state.category}))}}),r.a.createElement(S.b,{exact:!0,path:"/category",render:function(a){return r.a.createElement(T,Object.assign({},a,{category:e.state.category,isSignedIn:t}))}}),r.a.createElement(S.b,{exact:!0,path:"/dashboard",render:function(a){return r.a.createElement(X,Object.assign({userId:e.state.user.id,username:e.state.user.username,isSignedIn:t,handleLogin:e.loginUser,handleSignUp:e.signUpUser,signOut:e.signOut},a))}})))}}]),t}(n.Component);c.a.render(r.a.createElement(w.a,null,r.a.createElement(Y,null)),document.getElementById("root"))},60:function(e,t,a){e.exports=a(112)},65:function(e,t,a){},67:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.6817031a.chunk.js.map